import{a as w,bf as h,r as o,j as e,A as g}from"./index-59f2354e.js";import{u as y}from"./useOrganizationHandler-a9522fa4.js";import{g as m}from"./utils-4a35f25f.js";import{c as u,b as N}from"./index-95885a2b.js";import{B as b}from"./button-d04776d9.js";import{D as C}from"./DownOutlined-43a19ddf.js";import"./useGetSubscriptionsView-43e8743f.js";import"./PurePanel-e5ac0afe.js";import"./collapse-97de76d4.js";const R=()=>{const d=w(),{theme:c}=h(),x=window.location.href,l=new URL(x).search.slice(1),{subscriptionBoards:r}=y(),t=o.useMemo(()=>r.find(s=>s.country.toLowerCase()===l.toLowerCase()),[r,l]),a=t==null?void 0:t.country,[n,i]=o.useState(a);o.useEffect(()=>{a&&i(a)},[a]);const f=s=>{i(s.key),d(`${g.preview}?${s.key.toLowerCase()}`)},p=o.useMemo(()=>r.filter(s=>s.status!=="pending"),[r]),j=e.jsx(u,{onClick:f,className:"w-full",children:p.map((s,L)=>e.jsx(u.Item,{children:e.jsxs("div",{className:"flex gap-5 items-center w-full",children:[e.jsx("img",{src:`/assets/${s.country.toLowerCase()}.png`,alt:s.country.toLowerCase(),className:"w-6 h-6 object-cover rounded-full"}),e.jsx("p",{children:m(s.country)})]})},s.country))});return console.log("currentBoard",c),e.jsxs("div",{className:"bg-surface-default pt-10",children:[e.jsx("div",{className:"h-[80px] flex items-center bg-gradient-to-r from-cyan-900 from-40% to-green-500 to-80% px-10 ",children:e.jsx("div",{className:"pt-5  text-md font-bold text-white",children:e.jsx(N,{overlay:j,className:"max-w-md",children:e.jsx(b,{className:"max-w-xs",size:"large",children:n?e.jsxs("div",{className:"flex gap-5 justify-between items-center",children:[e.jsx("img",{src:`/assets/${n.toLowerCase()}.png`,alt:n.toLowerCase(),className:"w-6 h-6 object-cover"}),e.jsx("span",{children:m(n)}),e.jsx(C,{})]}):"Select Country"})})})}),e.jsx("div",{className:"w-full",children:t&&e.jsx("iframe",{src:t[`${t.license.toLowerCase()}_${c}_databoard_url`],className:"h-screen w-full bg-surface-secondary"},c)}),e.jsxs("div",{className:"fixed w-screen bottom-0 flex items-center justify-between  bg-surface-secondary text-content-default p-2 mt-6",children:[e.jsx("span",{className:"text-sm",children:"Powered By Africa Analitica"}),e.jsx("span",{className:"text-sm",children:"License: Individual access"})]})]})};export{R as default};
