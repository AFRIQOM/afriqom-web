import{r as s,i as yr,_ as qe,k as Ht,l as Gt,m as L,w as xr,n as We,o as Sr,p as jr,q as et,s as de,t as Kt,v as wr,x as dt,y as Nr,T as Er,z as Dr,B as Ir,C as ft,D as Z,E as Ar,F as _r,G as Or,H as Cr,J as Fr,K as Rr,N as $r,O as Dt,P as Tr,Q as kr,R as Pr,u as fe,j as a,h as H,S as Mr,U as Br,V as Re,W as $e,X as It,Y as At,Z as Ne,$ as Lr,a0 as Qe,a1 as zr,b as Ur,A as Vr,d as gt,a2 as Wr}from"./index-59f2354e.js";import{P as qr}from"./container-03e214f9.js";import{n as Hr}from"./index-eaf1928d.js";import{S as Gr}from"./StatusDropdown-8d57e597.js";import{S as ot}from"./StatusTag-0f6e5003.js";import{u as wt,a as Kr}from"./useOrganizationHandler-a9522fa4.js";import{D as _t,T as Yr,a as pt}from"./index-28f81481.js";import{C as Xr,c as Jr}from"./data-8b3ff740.js";import{F as B,m as Yt,A as Xt}from"./motion-db2b8b92.js";import{B as Qr,t as Zr,i as en,a as tn,g as Jt,b as rn,c as nn,d as an,e as on,f as sn,h as ln,j as cn,u as un,k as Ot,l as dn,I as tt}from"./index-dc7f8182.js";import{g as fn,B as Ee}from"./button-d04776d9.js";import{u as pn}from"./useSubscriptionMutator-52eb5755.js";import{d as rt}from"./dayjs.min-36613c82.js";import{S as ce}from"./index-9f2fb8c4.js";import{D as mn}from"./DownOutlined-43a19ddf.js";import{g as Qt}from"./utils-4a35f25f.js";import{T as Zt}from"./Table-4c07d154.js";import{M as ht}from"./index-394ef855.js";import{T as gn}from"./index-0b338665.js";import{u as hn,E as vn,U as bn}from"./UserSuccessModal-8dd7e792.js";import{U as yn}from"./dto-0c8e3693.js";import"./InfoCircleFilled-23b8bc08.js";import"./CloseCircleFilled-f69f152a.js";import"./index-95885a2b.js";import"./PurePanel-e5ac0afe.js";import"./collapse-97de76d4.js";import"./useGetSubscriptionsView-43e8743f.js";import"./index-c51833f7.js";var xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const Sn=xn;var jn=function(t,r){return s.createElement(yr,qe({},t,{ref:r,icon:Sn}))},wn=s.forwardRef(jn);const Nn=wn;function vt(){return typeof BigInt=="function"}function er(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function we(e){var t=e.trim(),r=t.startsWith("-");r&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var n=t||"0",i=n.split("."),o=i[0]||"0",c=i[1]||"0";o==="0"&&c==="0"&&(r=!1);var l=r?"-":"";return{negative:r,negativeStr:l,trimStr:n,integerStr:o,decimalStr:c,fullStr:"".concat(l).concat(n)}}function Nt(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function je(e){var t=String(e);if(Nt(e)){var r=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return t.includes(".")&&Et(t)?t.length-t.indexOf(".")-1:0}function st(e){var t=String(e);if(Nt(e)){if(e>Number.MAX_SAFE_INTEGER)return String(vt()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(vt()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(je(t))}return we(t).fullStr}function Et(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var En=function(){function e(t){if(Gt(this,e),L(this,"origin",""),L(this,"negative",void 0),L(this,"integer",void 0),L(this,"decimal",void 0),L(this,"decimalLen",void 0),L(this,"empty",void 0),L(this,"nan",void 0),er(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var r=t;if(Nt(r)&&(r=Number(r)),r=typeof r=="string"?r:st(r),Et(r)){var n=we(r);this.negative=n.negative;var i=n.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return Ht(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new e(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,i){var o=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),c=this.alignDecimal(o),l=r.alignDecimal(o),u=n(c,l).toString(),d=i(o),p=we(u),h=p.negativeStr,y=p.trimStr,S="".concat(h).concat(y.padStart(d+1,"0"));return new e("".concat(S.slice(0,-d),".").concat(S.slice(-d)))}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=new e(r);return n.isInvalidate()?this:this.cal(n,function(i,o){return i+o},function(i){return i})}},{key:"multi",value:function(r){var n=new e(r);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,function(i,o){return i*o},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":we("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),Dn=function(){function e(t){if(Gt(this,e),L(this,"origin",""),L(this,"number",void 0),L(this,"empty",void 0),er(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Ht(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=Number(r);if(Number.isNaN(n))return this;var i=this.number+n;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(je(this.number),je(n));return new e(i.toFixed(o))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var i=this.number*n;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(je(this.number),je(n));return new e(i.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":st(this.number):this.origin}}]),e}();function ae(e){return vt()?new En(e):new Dn(e)}function Ze(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=we(e),o=i.negativeStr,c=i.integerStr,l=i.decimalStr,u="".concat(t).concat(l),d="".concat(o).concat(c);if(r>=0){var p=Number(l[r]);if(p>=5&&!n){var h=ae(e).add("".concat(o,"0.").concat("0".repeat(r)).concat(10-p));return Ze(h.toString(),t,r,n)}return r===0?d:"".concat(d).concat(t).concat(l.padEnd(r,"0").slice(0,r))}return u===".0"?d:"".concat(d).concat(u)}function In(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(n,i){if(t[i])return t[i];var o=n[i];return typeof o=="function"?o.bind(n):o}}):e}function An(e,t){var r=s.useRef(null);function n(){try{var o=e.selectionStart,c=e.selectionEnd,l=e.value,u=l.substring(0,o),d=l.substring(c);r.current={start:o,end:c,value:l,beforeTxt:u,afterTxt:d}}catch{}}function i(){if(e&&r.current&&t)try{var o=e.value,c=r.current,l=c.beforeTxt,u=c.afterTxt,d=c.start,p=o.length;if(o.endsWith(u))p=o.length-r.current.afterTxt.length;else if(o.startsWith(l))p=l.length;else{var h=l[d-1],y=o.indexOf(h,d-1);y!==-1&&(p=y+1)}e.setSelectionRange(p,p)}catch(S){xr(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(S.message))}}return[n,i]}var _n=function(){var t=s.useState(!1),r=We(t,2),n=r[0],i=r[1];return Sr(function(){i(jr())},[]),n},On=200,Cn=600;function Fn(e){var t=e.prefixCls,r=e.upNode,n=e.downNode,i=e.upDisabled,o=e.downDisabled,c=e.onStep,l=s.useRef(),u=s.useRef([]),d=s.useRef();d.current=c;var p=function(){clearTimeout(l.current)},h=function(v,z){v.preventDefault(),p(),d.current(z);function _(){d.current(z),l.current=setTimeout(_,On)}l.current=setTimeout(_,Cn)};s.useEffect(function(){return function(){p(),u.current.forEach(function(A){return et.cancel(A)})}},[]);var y=_n();if(y)return null;var S="".concat(t,"-handler"),E=de(S,"".concat(S,"-up"),L({},"".concat(S,"-up-disabled"),i)),j=de(S,"".concat(S,"-down"),L({},"".concat(S,"-down-disabled"),o)),w=function(){return u.current.push(et(p))},k={unselectable:"on",role:"button",onMouseUp:w,onMouseLeave:w};return s.createElement("div",{className:"".concat(S,"-wrap")},s.createElement("span",qe({},k,{onMouseDown:function(v){h(v,!0)},"aria-label":"Increase Value","aria-disabled":i,className:E}),r||s.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),s.createElement("span",qe({},k,{onMouseDown:function(v){h(v,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:j}),n||s.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function Ct(e){var t=typeof e=="number"?st(e):we(e).fullStr,r=t.includes(".");return r?we(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const Rn=function(){var e=s.useRef(0),t=function(){et.cancel(e.current)};return s.useEffect(function(){return t},[]),function(r){t(),e.current=et(function(){r()})}};var $n=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Tn=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Ft=function(t,r){return t||r.isEmpty()?r.toString():r.toNumber()},Rt=function(t){var r=ae(t);return r.isInvalidate()?null:r},kn=s.forwardRef(function(e,t){var r=e.prefixCls,n=e.className,i=e.style,o=e.min,c=e.max,l=e.step,u=l===void 0?1:l,d=e.defaultValue,p=e.value,h=e.disabled,y=e.readOnly,S=e.upHandler,E=e.downHandler,j=e.keyboard,w=e.changeOnWheel,k=w===void 0?!1:w,A=e.controls,v=A===void 0?!0:A;e.classNames;var z=e.stringMode,_=e.parser,R=e.formatter,C=e.precision,G=e.decimalSeparator,Y=e.onChange,P=e.onInput,J=e.onPressEnter,ee=e.onStep,U=e.changeOnBlur,$=U===void 0?!0:U,V=e.domRef,Te=Kt(e,$n),he="".concat(r,"-input"),W=s.useRef(null),M=s.useState(!1),De=We(M,2),pe=De[0],ie=De[1],X=s.useRef(!1),K=s.useRef(!1),me=s.useRef(!1),te=s.useState(function(){return ae(p??d)}),ye=We(te,2),N=ye[0],ke=ye[1];function Ie(b){p===void 0&&ke(b)}var ve=s.useCallback(function(b,g){if(!g)return C>=0?C:Math.max(je(b),je(u))},[C,u]),oe=s.useCallback(function(b){var g=String(b);if(_)return _(g);var D=g;return G&&(D=D.replace(G,".")),D.replace(/[^\w.-]+/g,"")},[_,G]),Ae=s.useRef(""),Pe=s.useCallback(function(b,g){if(R)return R(b,{userTyping:g,input:String(Ae.current)});var D=typeof b=="number"?st(b):b;if(!g){var x=ve(D,g);if(Et(D)&&(G||x>=0)){var le=G||".";D=Ze(D,le,x)}}return D},[R,ve,G]),Ke=s.useState(function(){var b=d??p;return N.isInvalidate()&&["string","number"].includes(wr(b))?Number.isNaN(b)?"":b:Pe(N.toString(),!1)}),Me=We(Ke,2),Q=Me[0],_e=Me[1];Ae.current=Q;function se(b,g){_e(Pe(b.isInvalidate()?b.toString(!1):b.toString(!g),g))}var re=s.useMemo(function(){return Rt(c)},[c,C]),be=s.useMemo(function(){return Rt(o)},[o,C]),Ye=s.useMemo(function(){return!re||!N||N.isInvalidate()?!1:re.lessEquals(N)},[re,N]),Xe=s.useMemo(function(){return!be||!N||N.isInvalidate()?!1:N.lessEquals(be)},[be,N]),f=An(W.current,pe),m=We(f,2),F=m[0],T=m[1],q=function(g){return re&&!g.lessEquals(re)?re:be&&!be.lessEquals(g)?be:null},ge=function(g){return!q(g)},ne=function(g,D){var x=g,le=ge(x)||x.isEmpty();if(!x.isEmpty()&&!D&&(x=q(x)||x,le=!0),!y&&!h&&le){var Ve=x.toString(),ut=ve(Ve,D);return ut>=0&&(x=ae(Ze(Ve,".",ut)),ge(x)||(x=ae(Ze(Ve,".",ut,!0)))),x.equals(N)||(Ie(x),Y==null||Y(x.isEmpty()?null:Ft(z,x)),p===void 0&&se(x,D)),x}return N},Be=Rn(),Oe=function b(g){if(F(),Ae.current=g,_e(g),!K.current){var D=oe(g),x=ae(D);x.isNaN()||ne(x,!0)}P==null||P(g),Be(function(){var le=g;_||(le=g.replace(/ã€‚/g,".")),le!==g&&b(le)})},Le=function(){K.current=!0},Ce=function(){K.current=!1,Oe(W.current.value)},ze=function(g){Oe(g.target.value)},xe=function(g){var D;if(!(g&&Ye||!g&&Xe)){X.current=!1;var x=ae(me.current?Ct(u):u);g||(x=x.negate());var le=(N||ae(0)).add(x.toString()),Ve=ne(le,!1);ee==null||ee(Ft(z,Ve),{offset:me.current?Ct(u):u,type:g?"up":"down"}),(D=W.current)===null||D===void 0||D.focus()}},Fe=function(g){var D=ae(oe(Q)),x;D.isNaN()?x=ne(N,g):x=ne(D,g),p!==void 0?se(N,!1):x.isNaN()||se(x,!1)},Ue=function(){X.current=!0},ct=function(g){var D=g.key,x=g.shiftKey;X.current=!0,me.current=x,D==="Enter"&&(K.current||(X.current=!1),Fe(!1),J==null||J(g)),j!==!1&&!K.current&&["Up","ArrowUp","Down","ArrowDown"].includes(D)&&(xe(D==="Up"||D==="ArrowUp"),g.preventDefault())},vr=function(){X.current=!1,me.current=!1};s.useEffect(function(){if(k&&pe){var b=function(x){xe(x.deltaY<0),x.preventDefault()},g=W.current;if(g)return g.addEventListener("wheel",b,{passive:!1}),function(){return g.removeEventListener("wheel",b)}}});var br=function(){$&&Fe(!1),ie(!1),X.current=!1};return dt(function(){N.isInvalidate()||se(N,!1)},[C,R]),dt(function(){var b=ae(p);ke(b);var g=ae(oe(Q));(!b.equals(g)||!X.current||R)&&se(b,X.current)},[p]),dt(function(){R&&T()},[Q]),s.createElement("div",{ref:V,className:de(r,n,L(L(L(L(L({},"".concat(r,"-focused"),pe),"".concat(r,"-disabled"),h),"".concat(r,"-readonly"),y),"".concat(r,"-not-a-number"),N.isNaN()),"".concat(r,"-out-of-range"),!N.isInvalidate()&&!ge(N))),style:i,onFocus:function(){ie(!0)},onBlur:br,onKeyDown:ct,onKeyUp:vr,onCompositionStart:Le,onCompositionEnd:Ce,onBeforeInput:Ue},v&&s.createElement(Fn,{prefixCls:r,upNode:S,downNode:E,upDisabled:Ye,downDisabled:Xe,onStep:xe}),s.createElement("div",{className:"".concat(he,"-wrap")},s.createElement("input",qe({autoComplete:"off",role:"spinbutton","aria-valuemin":o,"aria-valuemax":c,"aria-valuenow":N.isInvalidate()?null:N.toString(),step:u},Te,{ref:Nr(W,t),className:he,value:Q,onChange:ze,disabled:h,readOnly:y}))))}),Pn=s.forwardRef(function(e,t){var r=e.disabled,n=e.style,i=e.prefixCls,o=i===void 0?"rc-input-number":i,c=e.value,l=e.prefix,u=e.suffix,d=e.addonBefore,p=e.addonAfter,h=e.className,y=e.classNames,S=Kt(e,Tn),E=s.useRef(null),j=s.useRef(null),w=s.useRef(null),k=function(v){w.current&&Zr(w.current,v)};return s.useImperativeHandle(t,function(){return In(w.current,{nativeElement:E.current.nativeElement||j.current})}),s.createElement(Qr,{className:h,triggerFocus:k,prefixCls:o,value:c,disabled:r,style:n,prefix:l,suffix:u,addonAfter:p,addonBefore:d,classNames:y,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:E},s.createElement(kn,qe({prefixCls:o,disabled:r,ref:w,domRef:j,className:y==null?void 0:y.input},S)))});const Mn=e=>{var t;const r=(t=e.handleVisible)!==null&&t!==void 0?t:"auto";return Object.assign(Object.assign({},en(e)),{controlWidth:90,handleWidth:e.controlHeightSM-e.lineWidth*2,handleFontSize:e.fontSize/2,handleVisible:r,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Er(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:r===!0?1:0})},$t=(e,t)=>{let{componentCls:r,borderRadiusSM:n,borderRadiusLG:i}=e;const o=t==="lg"?i:n;return{[`&-${t}`]:{[`${r}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${r}-handler-up`]:{borderStartEndRadius:o},[`${r}-handler-down`]:{borderEndEndRadius:o}}}},Bn=e=>{const{componentCls:t,lineWidth:r,lineType:n,borderRadius:i,inputFontSizeSM:o,inputFontSizeLG:c,controlHeightLG:l,controlHeightSM:u,colorError:d,paddingInlineSM:p,paddingBlockSM:h,paddingBlockLG:y,paddingInlineLG:S,colorTextDescription:E,motionDurationMid:j,handleHoverColor:w,paddingInline:k,paddingBlock:A,handleBg:v,handleActiveBg:z,colorTextDisabled:_,borderRadiusSM:R,borderRadiusLG:C,controlWidth:G,handleOpacity:Y,handleBorderColor:P,filledHandleBg:J,lineHeightLG:ee,calc:U}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),Jt(e)),{display:"inline-block",width:G,margin:0,padding:0,borderRadius:i}),rn(e,{[`${t}-handler-wrap`]:{background:v,[`${t}-handler-down`]:{borderBlockStart:`${Z(r)} ${n} ${P}`}}})),nn(e,{[`${t}-handler-wrap`]:{background:J,[`${t}-handler-down`]:{borderBlockStart:`${Z(r)} ${n} ${P}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:v}}})),an(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:c,lineHeight:ee,borderRadius:C,[`input${t}-input`]:{height:U(l).sub(U(r).mul(2)).equal(),padding:`${Z(y)} ${Z(S)}`}},"&-sm":{padding:0,fontSize:o,borderRadius:R,[`input${t}-input`]:{height:U(u).sub(U(r).mul(2)).equal(),padding:`${Z(h)} ${Z(p)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:d}}},"&-group":Object.assign(Object.assign(Object.assign({},ft(e)),on(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:C,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:R}}},sn(e)),ln(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},ft(e)),{width:"100%",padding:`${Z(A)} ${Z(k)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${j} linear`,appearance:"textfield",fontSize:"inherit"}),cn(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[t]:Object.assign(Object.assign(Object.assign({[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{opacity:1},[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleWidth,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,opacity:Y,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${j} linear ${j}`,[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:E,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Z(r)} ${n} ${P}`,transition:`all ${j} linear`,"&:active":{background:z},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:w}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Ar()),{color:E,transition:`all ${j} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},$t(e,"lg")),$t(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:_}})}]},Ln=e=>{const{componentCls:t,paddingBlock:r,paddingInline:n,inputAffixPadding:i,controlWidth:o,borderRadiusLG:c,borderRadiusSM:l,paddingInlineLG:u,paddingInlineSM:d,paddingBlockLG:p,paddingBlockSM:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Z(r)} 0`}},Jt(e)),{position:"relative",display:"inline-flex",width:o,padding:0,paddingInlineStart:n,"&-lg":{borderRadius:c,paddingInlineStart:u,[`input${t}-input`]:{padding:`${Z(p)} 0`}},"&-sm":{borderRadius:l,paddingInlineStart:d,[`input${t}-input`]:{padding:`${Z(h)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:n,marginInlineStart:i}}})}},zn=Dr("InputNumber",e=>{const t=Ir(e,tn(e));return[Bn(t),Ln(t),fn(t)]},Mn,{unitless:{handleOpacity:!0}});var Un=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const tr=s.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n}=s.useContext(_r),i=s.useRef(null);s.useImperativeHandle(t,()=>i.current);const{className:o,rootClassName:c,size:l,disabled:u,prefixCls:d,addonBefore:p,addonAfter:h,prefix:y,bordered:S,readOnly:E,status:j,controls:w,variant:k}=e,A=Un(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls","variant"]),v=r("input-number",d),z=Or(v),[_,R,C]=zn(v,z),{compactSize:G,compactItemClassnames:Y}=Cr(v,n);let P=s.createElement(Nn,{className:`${v}-handler-up-inner`}),J=s.createElement(mn,{className:`${v}-handler-down-inner`});const ee=typeof w=="boolean"?w:void 0;typeof w=="object"&&(P=typeof w.upIcon>"u"?P:s.createElement("span",{className:`${v}-handler-up-inner`},w.upIcon),J=typeof w.downIcon>"u"?J:s.createElement("span",{className:`${v}-handler-down-inner`},w.downIcon));const{hasFeedback:U,status:$,isFormItemInput:V,feedbackIcon:Te}=s.useContext(Fr),he=dn($,j),W=Rr(ye=>{var N;return(N=l??G)!==null&&N!==void 0?N:ye}),M=s.useContext($r),De=u??M,[pe,ie]=un("inputNumber",k,S),X=U&&s.createElement(s.Fragment,null,Te),K=de({[`${v}-lg`]:W==="large",[`${v}-sm`]:W==="small",[`${v}-rtl`]:n==="rtl",[`${v}-in-form-item`]:V},R),me=`${v}-group`,te=s.createElement(Pn,Object.assign({ref:i,disabled:De,className:de(C,z,o,c,Y),upHandler:P,downHandler:J,prefixCls:v,readOnly:E,controls:ee,prefix:y,suffix:X,addonBefore:p&&s.createElement(Dt,{form:!0,space:!0},p),addonAfter:h&&s.createElement(Dt,{form:!0,space:!0},h),classNames:{input:K,variant:de({[`${v}-${pe}`]:ie},Ot(v,he,U)),affixWrapper:de({[`${v}-affix-wrapper-sm`]:W==="small",[`${v}-affix-wrapper-lg`]:W==="large",[`${v}-affix-wrapper-rtl`]:n==="rtl"},R),wrapper:de({[`${me}-rtl`]:n==="rtl"},R),groupWrapper:de({[`${v}-group-wrapper-sm`]:W==="small",[`${v}-group-wrapper-lg`]:W==="large",[`${v}-group-wrapper-rtl`]:n==="rtl",[`${v}-group-wrapper-${pe}`]:ie},Ot(`${v}-group-wrapper`,he,U),R)}},A));return _(te)}),rr=tr,Vn=e=>s.createElement(Tr,{theme:{components:{InputNumber:{handleVisible:!0}}}},s.createElement(tr,Object.assign({},e)));rr._InternalPanelDoNotUseOrYouWillBeFired=Vn;const Wn=rr;var nr={exports:{}},qn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hn=qn,Gn=Hn;function ar(){}function ir(){}ir.resetWarningCache=ar;var Kn=function(){function e(n,i,o,c,l,u){if(u!==Gn){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ir,resetWarningCache:ar};return r.PropTypes=r,r};nr.exports=Kn();var Yn=nr.exports;const I=kr(Yn);function or(){const[e,t]=s.useState(""),{mutate:r,isPending:n,isSuccess:i,isError:o}=Pr({method:"save",model:"organisations",onSuccess:c=>{Hr.success({message:"Organization saved successfully",placement:"topRight"})},onError:c=>{console.log(c),t("Error creating organization")}});return s.useEffect(()=>{if(e){const c=setTimeout(()=>t(""),5e3);return()=>{clearTimeout(c)}}},[e]),{state:{isLoading:n,errorMessage:e,isSuccess:i,isError:o},actions:{setErrorMessage:t,updateOrganization:r}}}function Xn(){var u,d,p,h;const{state:e,actions:t}=fe(),r=or(),{subscriptionBoards:n,users:i}=wt(),[o,c]=s.useState(((u=e.currentOrganisation)==null?void 0:u.status)||"pending"),l=y=>{c(y),e.currentOrganisation&&y!==e.currentOrganisation.status&&r.actions.updateOrganization({id:e.currentOrganisation.id,body:{...e.currentOrganisation,status:y}},{onSuccess(){t.setCurrenOrganisation({...e.currentOrganisation,status:y})}})};return a.jsx("div",{className:"flex items-center justify-between py-5",children:a.jsxs("div",{className:"flex items-start md:gap-6",children:[a.jsx("img",{src:((d=e.currentOrganisation)==null?void 0:d.logo)??"/assets/default.jpeg",alt:"",className:"h-28 w-28 mt-2 rounded-sm object-cover"}),a.jsxs("div",{className:"flex max-w-sm flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-x-2",children:[a.jsx("p",{className:"mb-0 text-2xl font-bold text-content-default",children:(p=e.currentOrganisation)==null?void 0:p.name}),H(e.user,"canApproveOrganisation")&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ot,{size:"md",status:o}),a.jsx(Gr,{setStatus:y=>l(y)})]})]}),a.jsx("p",{className:"mt-0 text-sm text-content-secondary",children:(h=e.currentOrganisation)==null?void 0:h.about}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"grow-0  rounded-md border-content-default bg-surface-default px-8 py-2 text-content-default",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Mr,{}),a.jsx("span",{children:i.length})]}),a.jsx("span",{className:"text-xs",children:"Users"})]}),a.jsxs("div",{className:"grow-0 rounded-md border-content-default bg-surface-default px-6 py-2 text-content-default",children:[a.jsxs("div",{className:"flex  items-center justify-center gap-1 text-xs ",children:[a.jsx("span",{children:n.length}),a.jsx(Br,{})]}),a.jsx("span",{className:"text-xs",children:"Countries"})]})]})]})]})})}var Jn=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ge(e,t){var r=Qn(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Qn(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),i=Jn.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Zn=[".DS_Store","Thumbs.db"];function ea(e){return Re(this,void 0,void 0,function(){return $e(this,function(t){return nt(e)&&ta(e.dataTransfer)?[2,ia(e.dataTransfer,e.type)]:ra(e)?[2,na(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,aa(e)]:[2,[]]})})}function ta(e){return nt(e)}function ra(e){return nt(e)&&nt(e.target)}function nt(e){return typeof e=="object"&&e!==null}function na(e){return bt(e.target.files).map(function(t){return Ge(t)})}function aa(e){return Re(this,void 0,void 0,function(){var t;return $e(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Ge(n)})]}})})}function ia(e,t){return Re(this,void 0,void 0,function(){var r,n;return $e(this,function(i){switch(i.label){case 0:return e.items?(r=bt(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(oa))]):[3,2];case 1:return n=i.sent(),[2,Tt(sr(n))];case 2:return[2,Tt(bt(e.files).map(function(o){return Ge(o)}))]}})})}function Tt(e){return e.filter(function(t){return Zn.indexOf(t.name)===-1})}function bt(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function oa(e){if(typeof e.webkitGetAsEntry!="function")return kt(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?lr(t):kt(e)}function sr(e){return e.reduce(function(t,r){return It(It([],At(t),!1),At(Array.isArray(r)?sr(r):[r]),!1)},[])}function kt(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Ge(t);return Promise.resolve(r)}function sa(e){return Re(this,void 0,void 0,function(){return $e(this,function(t){return[2,e.isDirectory?lr(e):la(e)]})})}function lr(e){var t=e.createReader();return new Promise(function(r,n){var i=[];function o(){var c=this;t.readEntries(function(l){return Re(c,void 0,void 0,function(){var u,d,p;return $e(this,function(h){switch(h.label){case 0:if(l.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return u=h.sent(),r(u),[3,4];case 3:return d=h.sent(),n(d),[3,4];case 4:return[3,6];case 5:p=Promise.all(l.map(sa)),i.push(p),o(),h.label=6;case 6:return[2]}})})},function(l){n(l)})}o()})}function la(e){return Re(this,void 0,void 0,function(){return $e(this,function(t){return[2,new Promise(function(r,n){e.file(function(i){var o=Ge(i,e.fullPath);r(o)},function(i){n(i)})})]})})}var ca=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(c){var l=c.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function Pt(e){return fa(e)||da(e)||ur(e)||ua()}function ua(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function da(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fa(e){if(Array.isArray(e))return yt(e)}function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mt(Object(r),!0).forEach(function(n){cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){return ga(e)||ma(e,t)||ur(e,t)||pa()}function pa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){if(e){if(typeof e=="string")return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(e,t)}}function yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ma(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,c,l;try{for(r=r.call(e);!(i=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function ga(e){if(Array.isArray(e))return e}var ha="file-invalid-type",va="file-too-large",ba="file-too-small",ya="too-many-files",xa=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:ha,message:"File type must be ".concat(r)}},Lt=function(t){return{code:va,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},zt=function(t){return{code:ba,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Sa={code:ya,message:"Too many files"};function dr(e,t){var r=e.type==="application/x-moz-file"||ca(e,t);return[r,r?null:xa(t)]}function fr(e,t,r){if(Se(e.size))if(Se(t)&&Se(r)){if(e.size>r)return[!1,Lt(r)];if(e.size<t)return[!1,zt(t)]}else{if(Se(t)&&e.size<t)return[!1,zt(t)];if(Se(r)&&e.size>r)return[!1,Lt(r)]}return[!0,null]}function Se(e){return e!=null}function ja(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,c=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(u){var d=dr(u,r),p=He(d,1),h=p[0],y=fr(u,n,i),S=He(y,1),E=S[0],j=l?l(u):null;return h&&E&&!j})}function at(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Je(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ut(e){e.preventDefault()}function wa(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Na(e){return e.indexOf("Edge/")!==-1}function Ea(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wa(e)||Na(e)}function ue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];return t.some(function(l){return!at(n)&&l&&l.apply(void 0,[n].concat(o)),at(n)})}}function Da(){return"showOpenFilePicker"in window}function Ia(e){if(Se(e)){var t=Object.entries(e).filter(function(r){var n=He(r,2),i=n[0],o=n[1],c=!0;return pr(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(mr))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(r,n){var i=He(n,2),o=i[0],c=i[1];return Bt(Bt({},r),{},cr({},o,c))},{});return[{description:"Files",accept:t}]}return e}function Aa(e){if(Se(e))return Object.entries(e).reduce(function(t,r){var n=He(r,2),i=n[0],o=n[1];return[].concat(Pt(t),[i],Pt(o))},[]).filter(function(t){return pr(t)||mr(t)}).join(",")}function _a(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Oa(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function pr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function mr(e){return/^.*\.[\w]+$/.test(e)}var Ca=["children"],Fa=["open"],Ra=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$a=["refKey","onChange","onClick"];function Ta(e){return Ma(e)||Pa(e)||gr(e)||ka()}function ka(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ma(e){if(Array.isArray(e))return xt(e)}function mt(e,t){return za(e)||La(e,t)||gr(e,t)||Ba()}function Ba(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){if(e){if(typeof e=="string")return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(e,t)}}function xt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function La(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,c,l;try{for(r=r.call(e);!(i=(c=r.next()).done)&&(n.push(c.value),!(t&&n.length===t));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function za(e){if(Array.isArray(e))return e}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vt(Object(r),!0).forEach(function(n){St(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e,t){if(e==null)return{};var r=Ua(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ua(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var lt=s.forwardRef(function(e,t){var r=e.children,n=it(e,Ca),i=Wa(n),o=i.open,c=it(i,Fa);return s.useImperativeHandle(t,function(){return{open:o}},[o]),Ne.createElement(s.Fragment,null,r(O(O({},c),{},{open:o})))});lt.displayName="Dropzone";var hr={disabled:!1,getFilesFromEvent:ea,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};lt.defaultProps=hr;lt.propTypes={children:I.func,accept:I.objectOf(I.arrayOf(I.string)),multiple:I.bool,preventDropOnDocument:I.bool,noClick:I.bool,noKeyboard:I.bool,noDrag:I.bool,noDragEventsBubbling:I.bool,minSize:I.number,maxSize:I.number,maxFiles:I.number,disabled:I.bool,getFilesFromEvent:I.func,onFileDialogCancel:I.func,onFileDialogOpen:I.func,useFsAccessApi:I.bool,autoFocus:I.bool,onDragEnter:I.func,onDragLeave:I.func,onDragOver:I.func,onDrop:I.func,onDropAccepted:I.func,onDropRejected:I.func,onError:I.func,validator:I.func};const Va=lt;var jt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=O(O({},hr),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,l=t.multiple,u=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,h=t.onDragOver,y=t.onDrop,S=t.onDropAccepted,E=t.onDropRejected,j=t.onFileDialogCancel,w=t.onFileDialogOpen,k=t.useFsAccessApi,A=t.autoFocus,v=t.preventDropOnDocument,z=t.noClick,_=t.noKeyboard,R=t.noDrag,C=t.noDragEventsBubbling,G=t.onError,Y=t.validator,P=s.useMemo(function(){return Aa(r)},[r]),J=s.useMemo(function(){return Ia(r)},[r]),ee=s.useMemo(function(){return typeof w=="function"?w:Wt},[w]),U=s.useMemo(function(){return typeof j=="function"?j:Wt},[j]),$=s.useRef(null),V=s.useRef(null),Te=s.useReducer(qa,jt),he=mt(Te,2),W=he[0],M=he[1],De=W.isFocused,pe=W.isFileDialogActive,ie=s.useRef(typeof window<"u"&&window.isSecureContext&&k&&Da()),X=function(){!ie.current&&pe&&setTimeout(function(){if(V.current){var m=V.current.files;m.length||(M({type:"closeDialog"}),U())}},300)};s.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[V,pe,U,ie]);var K=s.useRef([]),me=function(m){$.current&&$.current.contains(m.target)||(m.preventDefault(),K.current=[])};s.useEffect(function(){return v&&(document.addEventListener("dragover",Ut,!1),document.addEventListener("drop",me,!1)),function(){v&&(document.removeEventListener("dragover",Ut),document.removeEventListener("drop",me))}},[$,v]),s.useEffect(function(){return!n&&A&&$.current&&$.current.focus(),function(){}},[$,A,n]);var te=s.useCallback(function(f){G?G(f):console.error(f)},[G]),ye=s.useCallback(function(f){f.preventDefault(),f.persist(),re(f),K.current=[].concat(Ta(K.current),[f.target]),Je(f)&&Promise.resolve(i(f)).then(function(m){if(!(at(f)&&!C)){var F=m.length,T=F>0&&ja({files:m,accept:P,minSize:c,maxSize:o,multiple:l,maxFiles:u,validator:Y}),q=F>0&&!T;M({isDragAccept:T,isDragReject:q,isDragActive:!0,type:"setDraggedFiles"}),d&&d(f)}}).catch(function(m){return te(m)})},[i,d,te,C,P,c,o,l,u,Y]),N=s.useCallback(function(f){f.preventDefault(),f.persist(),re(f);var m=Je(f);if(m&&f.dataTransfer)try{f.dataTransfer.dropEffect="copy"}catch{}return m&&h&&h(f),!1},[h,C]),ke=s.useCallback(function(f){f.preventDefault(),f.persist(),re(f);var m=K.current.filter(function(T){return $.current&&$.current.contains(T)}),F=m.indexOf(f.target);F!==-1&&m.splice(F,1),K.current=m,!(m.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Je(f)&&p&&p(f))},[$,p,C]),Ie=s.useCallback(function(f,m){var F=[],T=[];f.forEach(function(q){var ge=dr(q,P),ne=mt(ge,2),Be=ne[0],Oe=ne[1],Le=fr(q,c,o),Ce=mt(Le,2),ze=Ce[0],xe=Ce[1],Fe=Y?Y(q):null;if(Be&&ze&&!Fe)F.push(q);else{var Ue=[Oe,xe];Fe&&(Ue=Ue.concat(Fe)),T.push({file:q,errors:Ue.filter(function(ct){return ct})})}}),(!l&&F.length>1||l&&u>=1&&F.length>u)&&(F.forEach(function(q){T.push({file:q,errors:[Sa]})}),F.splice(0)),M({acceptedFiles:F,fileRejections:T,type:"setFiles"}),y&&y(F,T,m),T.length>0&&E&&E(T,m),F.length>0&&S&&S(F,m)},[M,l,P,c,o,u,y,S,E,Y]),ve=s.useCallback(function(f){f.preventDefault(),f.persist(),re(f),K.current=[],Je(f)&&Promise.resolve(i(f)).then(function(m){at(f)&&!C||Ie(m,f)}).catch(function(m){return te(m)}),M({type:"reset"})},[i,Ie,te,C]),oe=s.useCallback(function(){if(ie.current){M({type:"openDialog"}),ee();var f={multiple:l,types:J};window.showOpenFilePicker(f).then(function(m){return i(m)}).then(function(m){Ie(m,null),M({type:"closeDialog"})}).catch(function(m){_a(m)?(U(m),M({type:"closeDialog"})):Oa(m)?(ie.current=!1,V.current?(V.current.value=null,V.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(m)});return}V.current&&(M({type:"openDialog"}),ee(),V.current.value=null,V.current.click())},[M,ee,U,k,Ie,te,J,l]),Ae=s.useCallback(function(f){!$.current||!$.current.isEqualNode(f.target)||(f.key===" "||f.key==="Enter"||f.keyCode===32||f.keyCode===13)&&(f.preventDefault(),oe())},[$,oe]),Pe=s.useCallback(function(){M({type:"focus"})},[]),Ke=s.useCallback(function(){M({type:"blur"})},[]),Me=s.useCallback(function(){z||(Ea()?setTimeout(oe,0):oe())},[z,oe]),Q=function(m){return n?null:m},_e=function(m){return _?null:Q(m)},se=function(m){return R?null:Q(m)},re=function(m){C&&m.stopPropagation()},be=s.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=f.refKey,F=m===void 0?"ref":m,T=f.role,q=f.onKeyDown,ge=f.onFocus,ne=f.onBlur,Be=f.onClick,Oe=f.onDragEnter,Le=f.onDragOver,Ce=f.onDragLeave,ze=f.onDrop,xe=it(f,Ra);return O(O(St({onKeyDown:_e(ue(q,Ae)),onFocus:_e(ue(ge,Pe)),onBlur:_e(ue(ne,Ke)),onClick:Q(ue(Be,Me)),onDragEnter:se(ue(Oe,ye)),onDragOver:se(ue(Le,N)),onDragLeave:se(ue(Ce,ke)),onDrop:se(ue(ze,ve)),role:typeof T=="string"&&T!==""?T:"presentation"},F,$),!n&&!_?{tabIndex:0}:{}),xe)}},[$,Ae,Pe,Ke,Me,ye,N,ke,ve,_,R,n]),Ye=s.useCallback(function(f){f.stopPropagation()},[]),Xe=s.useMemo(function(){return function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=f.refKey,F=m===void 0?"ref":m,T=f.onChange,q=f.onClick,ge=it(f,$a),ne=St({accept:P,multiple:l,type:"file",style:{display:"none"},onChange:Q(ue(T,ve)),onClick:Q(ue(q,Ye)),tabIndex:-1},F,V);return O(O({},ne),ge)}},[V,r,l,ve,n]);return O(O({},W),{},{isFocused:De&&!n,getRootProps:be,getInputProps:Xe,rootRef:$,inputRef:V,open:Q(oe)})}function qa(e,t){switch(t.type){case"focus":return O(O({},e),{},{isFocused:!0});case"blur":return O(O({},e),{},{isFocused:!1});case"openDialog":return O(O({},jt),{},{isFileDialogActive:!0});case"closeDialog":return O(O({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return O(O({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return O(O({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return O({},jt);default:return e}}function Wt(){}const Ha=e=>{const t=new FileReader;return new Promise(r=>{t.addEventListener("load",()=>r(String(t.result))),t.readAsDataURL(e)})},Ga=e=>{const t=[];for(let r=0;r<e.length;r+=1)t.push(Ha(e[r]));return Promise.all(t).then(r=>r.map((i,o)=>({image:i,id:new Date().toISOString(),file:e[o]})))};function Ka({name:e,id:t,multiple:r=!0,onChange:n,children:i,wrapperClassName:o,error:c}){const l=Ne.useCallback(async u=>{const d=await Ga(u);n&&n(d)},[n]);return a.jsx(Va,{accept:{"image/*":[],"audio/*":[],"image/jpg":[],"image/png":[],"video/mp4":[]},multiple:r,onDrop:l,children:({getRootProps:u,getInputProps:d})=>a.jsx("div",{className:de("w-full h-full border",c?"red":"light.600",o),...u(),children:a.jsxs(Ne.Fragment,{children:[a.jsx("input",{name:e,id:t,...d(),className:"hidden"}),i]})})})}function Ya({value:e,onChange:t,name:r,id:n,wrapperClassName:i,hasError:o,renderImage:c,...l}){return e&&["image"].some(u=>{var d;return(d=e.file)==null?void 0:d.type.includes(u)}),a.jsxs(Ka,{wrapperClassName:i,name:r,id:n,multiple:!1,error:o,onChange:u=>t(u[0]),...l,children:[c&&a.jsx(Ne.Fragment,{children:c(e)}),!c&&a.jsx(Ne.Fragment,{children:e?a.jsx("div",{className:"w-full relative h-full rounded-full ",children:a.jsx("img",{className:"w-full h-full  object-cover rounded-full",alt:"Selected Image",src:e.image,...l})}):a.jsx("div",{className:" h-full w-full flex justify-center items-center bg-surface-tertiary rounded-2xl",children:a.jsxs("div",{className:"flex flex-col text-center items-center",children:[a.jsx(Lr,{className:" text-content-default",size:32}),a.jsx("p",{className:"text-content-default",children:"Select or drag and drop here"})]})})})]})}const Xa=e=>({email:e.email,name:e.name,about:e.about,logo:{image:e.logo},country:e.country}),Ja=e=>({about:e.about,name:e.name,country:e.country,logo:"",email:e.email,...e.status&&{status:e.status}});function Qa({isSubmitting:e,onSubmit:t,currentOrganisation:r,errorMessage:n}){const[i]=B.useForm(),o=d=>{t(d)},{state:c}=fe(),l=s.useMemo(()=>Xa(r),[r]),u=H(c.user,"canEditAccountProfile");return a.jsxs(B,{form:i,layout:"vertical",onFinish:o,requiredMark:!1,name:"profile_form",initialValues:l,className:"-mt-8",children:[a.jsx(Yt.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:n?1:0,marginBottom:n?10:0},children:a.jsx(Xt,{type:"error",showIcon:!0,message:n})}),a.jsx(B.Item,{label:"Name",name:"name",className:"font-bold  my-2",rules:[{required:!0,message:"This field is required"}],children:a.jsx(tt,{placeholder:"Choco Fam Limited",disabled:!u})}),a.jsx("span",{className:"text-content-secondary",children:"Your organization or company Name"}),a.jsx(Qe,{className:"mt-1"}),a.jsx(B.Item,{name:"logo",label:"Logo",className:"  font-bold flex items-center my-2",children:a.jsx(Ya,{wrapperClassName:"!h-16 !w-16 rounded-full overflow-hidden"})}),a.jsx("span",{className:"text-content-secondary",children:"Update organization logo here"}),a.jsx(Qe,{className:"mt-1"}),a.jsx(Xr,{placeholder:"Select a country",name:"country",label:"Country",loading:!1,countries:Jr,disabled:!u}),a.jsx("span",{className:"text-content-secondary",children:"The location of the company or its based office"}),a.jsx(B.Item,{name:"about",label:"About",className:"font-bold my-1",rules:[{required:!0,message:"This field is required"}],children:a.jsx(tt.TextArea,{className:"text-xs",disabled:!u})}),a.jsx("span",{className:"text-content-secondary",children:"Short description about your organization"}),a.jsx(Qe,{className:"mt-0"}),u&&a.jsx(Ee,{htmlType:"submit",type:"primary",loading:e,children:"Save"})]})}function Za(){const e=or(),{state:{currentOrganisation:t}}=fe(),r=n=>{const i=Ja(n);e.actions.updateOrganization({body:i,id:t==null?void 0:t.id})};return a.jsxs("div",{className:"my-0 max-w-2xl",children:[a.jsx("p",{className:"text-[16px]",children:"Organization settings"}),a.jsx(Qe,{className:"mt-1"}),t&&a.jsx(Qa,{currentOrganisation:t,isSubmitting:e.state.isLoading,onSubmit:r,errorMessage:e.state.errorMessage})]})}const ei=e=>({status:e.status,databoard_id:e.databoard_id,rate_paid:e.rate_paid,package:e.package,start_date:rt(e.start_date),license:e.license,expiry_date:rt(e.expiry_date),custom_subscription_dark_databoard_url:e.custom_subscription_dark_databoard_url,custom_subscription_light_databoard_url:e.custom_subscription_light_databoard_url}),ti=e=>({status:e.status,databoard_id:e.databoard_id,rate_paid:e.rate_paid,package:e.package,start_date:rt(e.start_date).format("YYYY-MM-DD"),license:e.license,expiry_date:rt(e.expiry_date).format("YYYY-MM-DD"),custom_subscription_dark_databoard_url:e.custom_subscription_dark_databoard_url,custom_subscription_light_databoard_url:e.custom_subscription_light_databoard_url});function ri({isSubmitting:e,onSubmit:t,errorMessage:r,subscription:n}){const{databaordOptions:i,isLoading:o}=Kr(),{state:c}=fe(),[l]=B.useForm(),u=B.useWatch("package",l),d=H(c.user,"canEditAccountSubscription"),p=H(c.user,"canEditAccountSubscriptionDashboardUlr"),h=H(c.user,"canViewAccountPaidRateForSubscription"),y=E=>{console.log("onFinish",E),t(E)},S=s.useMemo(()=>n?ei(n):{},[n]);return a.jsxs(B,{form:l,layout:"vertical",onFinish:y,requiredMark:!1,name:"edit_subscription",initialValues:S,children:[a.jsx(Yt.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:r?1:0,marginBottom:r?10:0},children:a.jsx(Xt,{type:"error",showIcon:!0,message:r})}),a.jsx(B.Item,{label:"Subscription Type",name:"package",children:a.jsx(ce,{defaultValue:"Individual Access",placeholder:"Select Databoard",options:["Individual Access","Full Access","Custom"].map(E=>({label:E,value:E}))})}),u!=="Full Access"&&a.jsx(B.Item,{name:"databoard_id",label:"Databoard",children:a.jsx(ce,{placeholder:"Select Databoard",loading:o,options:i})}),a.jsx(B.Item,{label:"Start Date",name:"start_date",rules:[{required:!0,message:"This field is required"}],children:a.jsx(_t,{disabled:!d,placeholder:"Start Date",className:"w-full"})}),a.jsx(B.Item,{label:"Expiry Date",name:"expiry_date",rules:[{required:!0,message:"This field is required"}],children:a.jsx(_t,{disabled:!d,placeholder:"Expiry Date",className:"w-full"})}),H(c.user,"canEditAccountSubscriptionStatus")&&a.jsx(B.Item,{label:"Status",name:"status",rules:[{required:!0,message:"This field is required"}],children:a.jsxs(ce,{disabled:!d,placeholder:"Select status",children:[a.jsx(ce.Option,{value:"pending",children:"Pending"}),a.jsx(ce.Option,{value:"approval request",children:"Approval request"}),H(c.user,"canApprovedAccountSubscription")&&a.jsx(ce.Option,{value:"active",children:"Approved"})]})}),a.jsx(B.Item,{label:"License",name:"license",rules:[{required:!0,message:"This field is required"}],children:a.jsxs(ce,{disabled:!d,placeholder:"Select license",children:[a.jsx(ce.Option,{value:"premium",children:"Premium"}),a.jsx(ce.Option,{value:"standard",children:"Standard "}),a.jsx(ce.Option,{value:"advanced",children:"Advanced "})]})}),u=="Custom"&&a.jsx(Ne.Fragment,{children:H(c.user,"canEditAccountSubscriptionDashboardUlr")&&a.jsxs("div",{className:"flex  gap-5",children:[a.jsx(B.Item,{label:"Custom Light Mode Dashboard Url",name:"Light_mode_Dashboard_Url",className:"w-full",rules:[{required:!0,message:"This field is required"}],children:a.jsx(tt,{disabled:!p&&!d,placeholder:"Light Mode Dashboard Url"})}),a.jsx(B.Item,{label:"Custom Dark Mode Dashboard Url",name:"dark_mode_Dashboard_Url",className:"w-full",rules:[{required:!0,message:"This field is required"}],children:a.jsx(tt,{disabled:!p&&!d,placeholder:"Dark Mode Dashboard Url"})})]})}),h&&a.jsx(B.Item,{label:"Annual Cost Paid ($)",name:"rate_paid",rules:[{required:!0,message:"This field is required"}],children:a.jsx(Wn,{maxLength:10,style:{width:"100%"},placeholder:"Enter Annual Cost Paid ($)"})}),a.jsx(Ee,{htmlType:"submit",className:"w-full my-7",loading:e,type:"primary",children:"Save"})]})}function ni({data:e,isLoading:t,onExtendSubscription:r,onViewDetails:n}){s.useState(!1);const{state:i,actions:o}=fe(),c=s.useMemo(()=>[{title:"Subscription Country",dataIndex:"country",key:"country",render:u=>a.jsx("span",{children:Qt(u)})},{title:"Start Date",dataIndex:"start_date",key:"start_date"},{title:"Renewal Date",dataIndex:"expiry_date",key:"expiry_date"},{title:"License",dataIndex:"license",key:"license"},...H(i.user,["canViewAccountPaidRateForSubscription"])?[{title:"Annual Rate",dataIndex:"rate_paid",key:"rate_paid"}]:[],{title:"Status",dataIndex:"status",key:"status",render:u=>a.jsx(ot,{status:o.mapAuthStatus(u)})},...H(i.user,["canEditAccountSubscription","canEditAccountSubscriptionDashboardUlr"])?[{title:"",dataIndex:"action",key:"action",render:(u,d)=>a.jsx("div",{onClick:()=>n(d),className:"text-blue-700 flex items-center justify-center gap-2 cursor-pointer",children:"Edit"})}]:[],...H(i.user,["canExtendSubscription"])?[{title:"",dataIndex:"edit",key:"edit",render:(u,d)=>a.jsx("div",{onClick:()=>r(d),className:"text-blue-700 flex items-center justify-center gap-2 cursor-pointer",children:"Extend Subscription"})}]:[]],[]);return a.jsx(a.Fragment,{children:a.jsx(Zt,{scroll:{x:900},columns:c,loading:t,dataSource:e,pagination:!1})})}function ai(){return a.jsxs("div",{className:"my-10",children:[a.jsx("h1",{className:"text-content-default",children:"Ready to Upgradre your subscription ?"}),a.jsxs("div",{className:"text-content-secondary mb-5",children:["Contact our dedicated team at",a.jsx("span",{className:"text-blue-500",children:" sales@afriqom.com"})," to get you started. Let us craft a bespoke experience tailored to your preferences, ensuring each delivery exceeds your expectations."]}),a.jsx(Ee,{href:"mailto:sales@afriqom.com",children:"Get Started"})]})}function ii({onUpgrade:e,showUpgradeButton:t}){const{fullAccess:r}=wt(),{actions:n}=fe(),i=zr();return a.jsxs("div",{className:"w-full",children:[a.jsx("h2",{className:"my-5",children:"Active Plan"}),r&&a.jsxs("div",{className:"w-full h-full flex items-center justify-between  rounded-xl bg-surface-tertiary p-5    ",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("h1",{children:"Full Access"}),a.jsx(ot,{status:n.mapAuthStatus(r.status)})]}),a.jsxs("h3",{className:"font-normal",children:[r.license," Access "]}),a.jsxs("p",{className:"text-content-secondary",children:["Expires on ",r.expiry_date]}),a.jsxs("p",{className:"text-content-secondary",children:["Annual Cost Paid: $",i.formatNumber(Number(r.rate_paid))]})]}),t&&a.jsx(Ee,{type:"primary",onClick:()=>{e()},children:"Upgrade"})]})]})}function oi({currentOrganisation:e}){var w,k;const{subscriptions:t,isFullAccess:r,fullAccess:n,refetchSubscription:i}=wt(),[o,c]=s.useState(!1),[l,u]=s.useState(!1),[d,p]=s.useState(),{state:h,actions:y}=fe(),S=pn(),{user:E,isClientUser:j}=fe().state;return a.jsxs("div",{className:"w-full",children:[!r&&a.jsxs("div",{className:"flex justify-between items-end md:items-center mb-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:gap-3 md:items-center ",children:[a.jsx("p",{className:"text-content-secondary",children:"Manage Subscriptions"}),a.jsx("div",{className:"bg-[#2BA94C] text-xs text-white rounded-md p-2",children:(w=h.currentOrganisation)==null?void 0:w.subscription})]}),H(E,"canAddAccountSubscription")&&a.jsx(s.Fragment,{children:j?a.jsx(Ur,{to:`${Vr.buySubscription}`,children:a.jsx(Ee,{type:"primary",icon:a.jsx(gt,{}),children:"Add"})}):a.jsx(Ee,{icon:a.jsx(gt,{}),type:"primary",onClick:()=>{u(!0)},children:"Add"})})]}),((k=h.currentOrganisation)==null?void 0:k.subscription)==="Full Access"?a.jsx(ii,{showUpgradeButton:H(E,"canAddAccountSubscription"),onUpgrade:()=>{if(j)return c(!0);u(!0),p(n)}}):a.jsx(Ne.Fragment,{children:a.jsx(ni,{data:t,isLoading:!1,onExtendSubscription:()=>{c(!0)},onViewDetails:A=>{u(!0),p(A)}})}),a.jsx(ht,{destroyOnClose:!0,centered:!0,width:600,footer:null,open:o,title:"Upgrade subscription",className:"modal header",onCancel:()=>c(!1),children:a.jsx(ai,{})}),a.jsx(ht,{destroyOnClose:!0,width:500,footer:null,open:l,title:"Add Subscription",className:"modal header",onCancel:()=>u(!1),children:a.jsx(ri,{subscription:d,errorMessage:S.state.errorMessage,onSubmit:A=>{S.actions.saveSubscription({body:{...ti(A),organisation_id:e==null?void 0:e.id,...d&&{id:d.id}},id:d==null?void 0:d.id},{onSuccess(){u(!1),p(void 0),i()}})},isSubmitting:S.state.isLoading})})]})}function si({data:e,isLoading:t,onViewDetails:r}){const{state:n,actions:i}=fe();s.useState(!1);const o=s.useMemo(()=>[{title:"Name",dataIndex:"full_name",key:"full_name",render:(l,u,d)=>a.jsxs("div",{className:"flex items-center gap-2",children:[l,d===0&&a.jsx("div",{className:"bg-blue-500 text-white text-xs md:text-md rounded-md p-1",children:"Main Contact"})]})},{title:"Email",dataIndex:"email",key:"email"},{title:"Country of access",dataIndex:"access_country_restriction",key:"access_country_restriction",render:l=>a.jsx("div",{className:"flex gap-x-1",children:l.split(",").map(u=>a.jsx(gn,{children:Qt(u)},u))})},{title:"Account type",dataIndex:"account_type",key:"account_type"},{title:"Status",dataIndex:"status",key:"status",width:"16%",render:l=>a.jsx(ot,{status:i.mapAuthStatus(l)})},...H(n.user,"canEditAccountUser")?[{title:"",dataIndex:"action",key:"action",render:(l,u)=>a.jsx("div",{onClick:()=>r(u),className:"text-blue-700 flex items-center justify-center gap-2 cursor-pointer",children:"Edit"})}]:[]],[]);return a.jsx(Zt,{scroll:{x:900},columns:o,loading:t,dataSource:e||[],pagination:!1})}function li(){var z;const[e,t]=s.useState(!1),{actions:{saveUser:r,setNewUsername:n,setNewPassword:i,setOpenSuccessModal:o},state:{newPassword:c,openSuccessModal:l,newUsername:u,isLoading:d,errorMessage:p}}=hn(),{state:h}=fe(),{data:y,isLoading:S,refetch:E}=Wr({params:{organisation_id:(z=h.currentOrganisation)==null?void 0:z.id,access_portal:"client"}}),[j,w]=s.useState(void 0),k=_=>{var C;const R=yn({..._,status:_.status??(j==null?void 0:j.status)},{organisation_id:(C=h.currentOrganisation)==null?void 0:C.id,access_portal:"client"});r({body:R,id:j==null?void 0:j.id},{onSuccess(){E(),n(_.email),i(_.password),t(!1),_.password&&o(!0)}})},A=()=>{t(!0)},v=_=>{w(_),t(!0)};return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("p",{className:"text-content-secondary",children:"Manage users"}),H(h.user,"canAddAccountUser")&&a.jsx(Ee,{className:"bg-green-500 text-white",icon:a.jsx(gt,{}),onClick:A,children:"Add"})]}),a.jsx(si,{data:y,isLoading:S,onViewDetails:v}),a.jsx(ht,{centered:!0,width:600,footer:null,open:e,destroyOnClose:!0,title:j?"Edit User":"Add User",className:"modal header",onCancel:()=>{t(!1),w(void 0)},children:a.jsx(vn,{user:j,onSubmit:k,isSubmitting:d,errorMessage:p,isAdminUser:!1})}),a.jsx(bn,{openSuccessModal:l,newPassword:c,newUsername:u,setOpenSuccessModal:o})]})}function qt({currentOrganisation:e}){const[t,r]=s.useState("1"),n=i=>{r(i)};return a.jsxs("div",{children:[a.jsx(Xn,{}),a.jsxs(Yr,{activeKey:t,onChange:n,children:[a.jsx(pt,{tab:a.jsx("span",{className:t==="1"?"text-[#2BA94C]":"text-content-default",children:"General"}),children:a.jsx(Za,{})},"1"),a.jsx(pt,{tab:a.jsx("span",{className:t==="2"?"text-[#2BA94C]":"text-content-default",children:"Subscriptions"}),children:a.jsx(oi,{currentOrganisation:e})},"2"),a.jsx(pt,{tab:a.jsx("span",{className:t==="3"?"text-[#2BA94C]":"text-content-default",children:"Users"}),children:a.jsx(li,{})},"3")]})]})}const Pi=({isAdminAccess:e=!1,currentOrganisation:t})=>e?a.jsx(qt,{currentOrganisation:t}):a.jsx(qr,{title:"My account",children:a.jsx("div",{className:"overflow-hidden bg-surface-secondary px-10  py-5 ",children:a.jsx(qt,{currentOrganisation:t})})});export{Pi as default};
