import{j as t,u as f,r,h as g,e as h,f as w,a as y,A as C}from"./index-59f2354e.js";import{P as j}from"./container-03e214f9.js";import{g as b}from"./utils-4a35f25f.js";import{S as L}from"./StatusTag-0f6e5003.js";import{T as v}from"./Table-4c07d154.js";import{I}from"./index-dc7f8182.js";import"./index-0b338665.js";import"./button-d04776d9.js";import"./index-9f2fb8c4.js";import"./DownOutlined-43a19ddf.js";import"./PurePanel-e5ac0afe.js";import"./CloseCircleFilled-f69f152a.js";import"./index-95885a2b.js";import"./collapse-97de76d4.js";import"./index-c51833f7.js";function S(e){return t.jsxs("div",{className:"justify-between flex py-3",children:[e.leftControls,e.rightControls]})}function k({data:e,isLoading:l,onViewDetails:c}){const{state:u}=f(),d=r.useMemo(()=>[{title:"Organisation",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Status",dataIndex:"status",key:"status",width:"16%",render:a=>t.jsx(L,{status:a})},{title:"Country of operations",dataIndex:"country",key:"country",render:a=>t.jsx("span",{children:b(a)})},{title:"Subscription Type",dataIndex:"subscription",key:"subscription"},...g(u.user,"canViewAccountDetails")?[{title:"",dataIndex:"action",key:"action",render:(a,n)=>t.jsxs("div",{onClick:()=>c(n),className:"flex items-center gap-1 cursor-pointer",children:[t.jsx(h,{className:"text-blue-500"}),t.jsx("span",{className:"text-md text-blue-500",children:"View details"})]})}]:[]],[]);return t.jsx(v,{columns:d,loading:l,dataSource:e?e.map(s=>({...s,key:s.id})):[],pagination:!1})}function B(){const{data:e,isLoading:l}=w(),c=y(),u=m=>{c(`${C.previewOrganization}/?${m.id}`)},[d,s]=r.useState(""),[a,n]=r.useState(e);r.useEffect(()=>{e&&n(e)},[e]);const p=m=>{const o=m.target.value;s(o);const x=e==null?void 0:e.filter(i=>i.name.toLowerCase().includes(o.toLowerCase())||i.email.toLowerCase().includes(o.toLowerCase())||i.country.toLowerCase().includes(o.toLowerCase())||i.subscription.toLowerCase().includes(o.toLowerCase()));n(x)};return t.jsx(j,{title:"Manage Organisations",children:t.jsxs("div",{className:"px-2  pb-2 overflow-hidden ",children:[t.jsx(S,{leftControls:t.jsx(I,{className:"max-w-4xl",value:d,onChange:p,placeholder:"Organizations"})}),t.jsx(k,{data:a,isLoading:l,onViewDetails:u})]})})}export{B as default};
